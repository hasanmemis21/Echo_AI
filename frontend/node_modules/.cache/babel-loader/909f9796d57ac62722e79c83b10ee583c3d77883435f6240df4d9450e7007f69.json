{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hasan Memi\\u015F\\\\Desktop\\\\DuyguAI_Yeni\\\\frontend\\\\src\\\\components\\\\EmotionInput.js\",\n  _s = $RefreshSig$();\n// src/components/EmotionInput.js\nimport React, { useState, useRef, useEffect } from 'react';\nimport './EmotionInput.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EmotionInput({\n  onResults\n}) {\n  _s();\n  var _videoRef$current;\n  const [text, setText] = useState('');\n  const [imageData, setImageData] = useState(null);\n  const [recordingAudio, setRecordingAudio] = useState(false);\n  const [audioUrl, setAudioUrl] = useState('');\n  const [audioBase64, setAudioBase64] = useState('');\n  const [audioReady, setAudioReady] = useState(false);\n  const [recognizing, setRecognizing] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const recognitionRef = useRef(null);\n\n  // 1) Web Speech API ile konuşmayı metne dökme\n  useEffect(() => {\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SR) return;\n    const rec = new SR();\n    rec.lang = 'tr-TR';\n    rec.interimResults = false;\n    rec.onresult = e => setText(e.results[0][0].transcript);\n    rec.onend = () => setRecognizing(false);\n    recognitionRef.current = rec;\n  }, []);\n\n  // 2) Kamera açma\n  const openCamera = async () => {\n    const s = await navigator.mediaDevices.getUserMedia({\n      video: true\n    });\n    videoRef.current.srcObject = s;\n    videoRef.current.play();\n  };\n  const capturePhoto = () => {\n    const ctx = canvasRef.current.getContext('2d');\n    ctx.drawImage(videoRef.current, 0, 0, 160, 120);\n    setImageData(canvasRef.current.toDataURL('image/png').split(',')[1]);\n  };\n\n  // 3) Audio kaydı\n  const startRecording = async () => {\n    const s = await navigator.mediaDevices.getUserMedia({\n      audio: true\n    });\n    const rec = new MediaRecorder(s);\n    const chunks = [];\n    rec.ondataavailable = e => chunks.push(e.data);\n    rec.onstop = () => {\n      s.getTracks().forEach(t => t.stop());\n      const blob = new Blob(chunks, {\n        type: 'audio/webm'\n      });\n      const url = URL.createObjectURL(blob);\n      setAudioUrl(url);\n      const r = new FileReader();\n      r.onload = () => {\n        setAudioBase64(r.result.split(',')[1]);\n        setAudioReady(true);\n      };\n      r.readAsDataURL(blob);\n      setRecordingAudio(false);\n    };\n    rec.start();\n    setRecordingAudio(true);\n    setAudioUrl('');\n    setAudioBase64('');\n    setAudioReady(false);\n  };\n  const stopRecording = () => {\n    var _recognitionRef$curre, _mediaRecorder;\n    return recognitionRef.current || recordingAudio ? ((_recognitionRef$curre = recognitionRef.current) === null || _recognitionRef$curre === void 0 ? void 0 : _recognitionRef$curre.stop()) || ((_mediaRecorder = mediaRecorder) === null || _mediaRecorder === void 0 ? void 0 : _mediaRecorder.stop()) : null;\n  };\n\n  // 4) Analiz fonksiyonu\n  const analyze = async () => {\n    if (recordingAudio || recognizing) {\n      alert('Önce kayıt veya konuşmayı durdurun.');\n      return;\n    }\n    if (!text && !imageData && !audioReady) {\n      alert('En az bir kanal seçili olmalı.');\n      return;\n    }\n    setLoading(true);\n    try {\n      const res = await fetch('/api/analyze', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text,\n          face: imageData,\n          // artık audio değil, konuşma metni gönderiliyor\n          use_audio: false\n        })\n      });\n      const json = await res.json();\n      onResults(json);\n\n      // Temizle\n      setText('');\n      setImageData(null);\n      setAudioUrl('');\n      setAudioBase64('');\n      setAudioReady(false);\n    } catch (e) {\n      console.error(e);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const canAnalyze = !loading && !recordingAudio && !recognizing && (text || imageData || audioReady);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"emotion-input\",\n    children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n      className: \"emotion-input__text\",\n      placeholder: \"Metni yaz\\u0131n veya sesle konu\\u015Fun\",\n      value: text,\n      onChange: e => setText(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"emotion-input__controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _recognitionRef$curre2;\n            return (_recognitionRef$curre2 = recognitionRef.current) === null || _recognitionRef$curre2 === void 0 ? void 0 : _recognitionRef$curre2.start();\n          },\n          disabled: recognizing,\n          children: recognizing ? 'Konuşmayı Dinliyorum…' : 'Sesle Yaz'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _recognitionRef$curre3;\n            return (_recognitionRef$curre3 = recognitionRef.current) === null || _recognitionRef$curre3 === void 0 ? void 0 : _recognitionRef$curre3.stop();\n          },\n          disabled: !recognizing,\n          children: \"Dur\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: openCamera,\n          children: \"Kamera A\\xE7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: capturePhoto,\n          disabled: !((_videoRef$current = videoRef.current) !== null && _videoRef$current !== void 0 && _videoRef$current.srcObject),\n          children: \"Foto\\u011Fraf \\xC7ek\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          width: \"160\",\n          height: \"120\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          width: \"160\",\n          height: \"120\",\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"control-block\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startRecording,\n          disabled: recordingAudio,\n          children: recordingAudio ? 'Kaydediliyor…' : 'Ses Kaydı Başlat'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _mediaRecorder2;\n            return (_mediaRecorder2 = mediaRecorder) === null || _mediaRecorder2 === void 0 ? void 0 : _mediaRecorder2.stop();\n          },\n          disabled: !recordingAudio,\n          children: \"Durdur\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), audioUrl && /*#__PURE__*/_jsxDEV(\"audio\", {\n          controls: true,\n          src: audioUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"emotion-input__analyze\",\n      onClick: analyze,\n      disabled: !canAnalyze,\n      children: loading ? 'Analiz…' : 'Analiz Et'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_s(EmotionInput, \"cgTRtFqUfyxFMyPfix/36iXbRZk=\");\n_c = EmotionInput;\nvar _c;\n$RefreshReg$(_c, \"EmotionInput\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","EmotionInput","onResults","_s","_videoRef$current","text","setText","imageData","setImageData","recordingAudio","setRecordingAudio","audioUrl","setAudioUrl","audioBase64","setAudioBase64","audioReady","setAudioReady","recognizing","setRecognizing","loading","setLoading","videoRef","canvasRef","recognitionRef","SR","window","SpeechRecognition","webkitSpeechRecognition","rec","lang","interimResults","onresult","e","results","transcript","onend","current","openCamera","s","navigator","mediaDevices","getUserMedia","video","srcObject","play","capturePhoto","ctx","getContext","drawImage","toDataURL","split","startRecording","audio","MediaRecorder","chunks","ondataavailable","push","data","onstop","getTracks","forEach","t","stop","blob","Blob","type","url","URL","createObjectURL","r","FileReader","onload","result","readAsDataURL","start","stopRecording","_recognitionRef$curre","_mediaRecorder","mediaRecorder","analyze","alert","res","fetch","method","headers","body","JSON","stringify","face","use_audio","json","console","error","canAnalyze","className","children","placeholder","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_recognitionRef$curre2","disabled","_recognitionRef$curre3","ref","width","height","style","display","_mediaRecorder2","controls","src","_c","$RefreshReg$"],"sources":["C:/Users/Hasan Memiş/Desktop/DuyguAI_Yeni/frontend/src/components/EmotionInput.js"],"sourcesContent":["// src/components/EmotionInput.js\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport './EmotionInput.css';\r\n\r\nexport default function EmotionInput({ onResults }) {\r\n  const [text, setText] = useState('');\r\n  const [imageData, setImageData] = useState(null);\r\n  const [recordingAudio, setRecordingAudio] = useState(false);\r\n  const [audioUrl, setAudioUrl] = useState('');\r\n  const [audioBase64, setAudioBase64] = useState('');\r\n  const [audioReady, setAudioReady] = useState(false);\r\n  const [recognizing, setRecognizing] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  const recognitionRef = useRef(null);\r\n\r\n  // 1) Web Speech API ile konuşmayı metne dökme\r\n  useEffect(() => {\r\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    if (!SR) return;\r\n    const rec = new SR();\r\n    rec.lang = 'tr-TR';\r\n    rec.interimResults = false;\r\n    rec.onresult = (e) => setText(e.results[0][0].transcript);\r\n    rec.onend = () => setRecognizing(false);\r\n    recognitionRef.current = rec;\r\n  }, []);\r\n\r\n  // 2) Kamera açma\r\n  const openCamera = async () => {\r\n    const s = await navigator.mediaDevices.getUserMedia({ video: true });\r\n    videoRef.current.srcObject = s;\r\n    videoRef.current.play();\r\n  };\r\n  const capturePhoto = () => {\r\n    const ctx = canvasRef.current.getContext('2d');\r\n    ctx.drawImage(videoRef.current, 0, 0, 160, 120);\r\n    setImageData(canvasRef.current.toDataURL('image/png').split(',')[1]);\r\n  };\r\n\r\n  // 3) Audio kaydı\r\n  const startRecording = async () => {\r\n    const s = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n    const rec = new MediaRecorder(s);\r\n    const chunks = [];\r\n    rec.ondataavailable = (e) => chunks.push(e.data);\r\n    rec.onstop = () => {\r\n      s.getTracks().forEach(t => t.stop());\r\n      const blob = new Blob(chunks, { type: 'audio/webm' });\r\n      const url = URL.createObjectURL(blob);\r\n      setAudioUrl(url);\r\n      const r = new FileReader();\r\n      r.onload = () => {\r\n        setAudioBase64(r.result.split(',')[1]);\r\n        setAudioReady(true);\r\n      };\r\n      r.readAsDataURL(blob);\r\n      setRecordingAudio(false);\r\n    };\r\n    rec.start();\r\n    setRecordingAudio(true);\r\n    setAudioUrl('');\r\n    setAudioBase64('');\r\n    setAudioReady(false);\r\n  };\r\n  const stopRecording = () => recognitionRef.current || recordingAudio \r\n    ? recognitionRef.current?.stop() || mediaRecorder?.stop() \r\n    : null;\r\n\r\n  // 4) Analiz fonksiyonu\r\n  const analyze = async () => {\r\n    if (recordingAudio || recognizing) {\r\n      alert('Önce kayıt veya konuşmayı durdurun.');\r\n      return;\r\n    }\r\n    if (!text && !imageData && !audioReady) {\r\n      alert('En az bir kanal seçili olmalı.');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch('/api/analyze', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          text,\r\n          face: imageData,\r\n          // artık audio değil, konuşma metni gönderiliyor\r\n          use_audio: false,\r\n        })\r\n      });\r\n      const json = await res.json();\r\n      onResults(json);\r\n\r\n      // Temizle\r\n      setText('');\r\n      setImageData(null);\r\n      setAudioUrl('');\r\n      setAudioBase64('');\r\n      setAudioReady(false);\r\n    } catch (e) {\r\n      console.error(e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const canAnalyze = !loading && !recordingAudio && !recognizing && (text || imageData || audioReady);\r\n\r\n  return (\r\n    <div className=\"emotion-input\">\r\n      <textarea\r\n        className=\"emotion-input__text\"\r\n        placeholder=\"Metni yazın veya sesle konuşun\"\r\n        value={text}\r\n        onChange={e => setText(e.target.value)}\r\n      />\r\n\r\n      <div className=\"emotion-input__controls\">\r\n        <div className=\"control-block\">\r\n          <button onClick={() => recognitionRef.current?.start()} disabled={recognizing}>\r\n            {recognizing ? 'Konuşmayı Dinliyorum…' : 'Sesle Yaz'}\r\n          </button>\r\n          <button onClick={() => recognitionRef.current?.stop()} disabled={!recognizing}>\r\n            Dur\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"control-block\">\r\n          <button onClick={openCamera}>Kamera Aç</button>\r\n          <button onClick={capturePhoto} disabled={!videoRef.current?.srcObject}>\r\n            Fotoğraf Çek\r\n          </button>\r\n          <video ref={videoRef} width=\"160\" height=\"120\" />\r\n          <canvas ref={canvasRef} width=\"160\" height=\"120\" style={{ display: 'none' }} />\r\n        </div>\r\n\r\n        <div className=\"control-block\">\r\n          <button onClick={startRecording} disabled={recordingAudio}>\r\n            {recordingAudio ? 'Kaydediliyor…' : 'Ses Kaydı Başlat'}\r\n          </button>\r\n          <button onClick={() => mediaRecorder?.stop()} disabled={!recordingAudio}>\r\n            Durdur\r\n          </button>\r\n          {audioUrl && <audio controls src={audioUrl} />}\r\n        </div>\r\n      </div>\r\n\r\n      <button\r\n        className=\"emotion-input__analyze\"\r\n        onClick={analyze}\r\n        disabled={!canAnalyze}\r\n      >\r\n        {loading ? 'Analiz…' : 'Analiz Et'}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}