{"ast":null,"code":"import React,{useState}from'react';import EmotionInput from'../components/EmotionInput';import'../styles/HomePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function HomePage(){var _result$channels,_result$channels2;const[result,setResult]=useState(null);// Hangi kartƒ±n oynatƒ±lacaƒüƒ±nƒ± tutacaƒüƒ±z:\nconst[playing,setPlaying]=useState<string|null>null;return/*#__PURE__*/_jsxs(\"div\",{className:\"homepage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"notes-container\",children:Array.from({length:20}).map((_,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"note\",children:\"\\u266A\"},i))}),/*#__PURE__*/_jsx(\"h1\",{children:\"Duygu Analizi + M\\xFCzik \\xD6neri\"}),/*#__PURE__*/_jsx(EmotionInput,{onResults:setResult}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"results\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[((_result$channels=result.channels)===null||_result$channels===void 0?void 0:_result$channels.text)&&/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCC4 Metin: \",result.channels.text.label,\" (%\",Math.round(result.channels.text.score*100),\")\"]}),((_result$channels2=result.channels)===null||_result$channels2===void 0?void 0:_result$channels2.face)&&/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCF7 Y\\xFCz: \",result.channels.face.label,\" (%\",Math.round(result.channels.face.score*100),\")\"]}),result.fused_emotion&&/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83E\\uDDE0 F\\xFCzyon: \",result.fused_emotion.label,\" (%\",Math.round(result.fused_emotion.score*100),\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"music-list\",children:result.recommended_music.map(uri=>{const trackId=uri.split(':').pop();const isPlaying=playing===trackId;return/*#__PURE__*/_jsxs(\"div\",{className:\"music-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-preview\",children:/*#__PURE__*/_jsx(\"button\",{className:\"play-btn\",onClick:()=>setPlaying(isPlaying?null:trackId),children:isPlaying?'‚è∏':'‚ñ∂Ô∏è'})}),isPlaying&&/*#__PURE__*/_jsx(\"iframe\",{className:\"spotify-embed\",title:trackId,src:`https://open.spotify.com/embed/track/${trackId}?autoplay=1`,allow:\"autoplay; encrypted-media\"})]},trackId);})})]})]});}","map":{"version":3,"names":["React","useState","EmotionInput","jsx","_jsx","jsxs","_jsxs","HomePage","_result$channels","_result$channels2","result","setResult","playing","setPlaying","string","className","children","Array","from","length","map","_","i","onResults","channels","text","label","Math","round","score","face","fused_emotion","recommended_music","uri","trackId","split","pop","isPlaying","onClick","title","src","allow"],"sources":["C:/Users/Hasan Memi≈ü/Desktop/DuyguAI_Yeni/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport EmotionInput from '../components/EmotionInput';\r\nimport '../styles/HomePage.css';\r\n\r\nexport default function HomePage() {\r\n  const [result, setResult] = useState(null);\r\n  // Hangi kartƒ±n oynatƒ±lacaƒüƒ±nƒ± tutacaƒüƒ±z:\r\n  const [playing, setPlaying] = useState<string | null>(null);\r\n\r\n  return (\r\n    <div className=\"homepage\">\r\n      <div className=\"notes-container\">\r\n        {Array.from({ length: 20 }).map((_, i) => (\r\n          <span key={i} className=\"note\">‚ô™</span>\r\n        ))}\r\n      </div>\r\n\r\n      <h1>Duygu Analizi + M√ºzik √ñneri</h1>\r\n      <EmotionInput onResults={setResult} />\r\n\r\n      {result && (\r\n        <div className=\"results\">\r\n          <div className=\"details\">\r\n            {result.channels?.text && (\r\n              <p>üìÑ Metin: {result.channels.text.label} (%{Math.round(result.channels.text.score*100)})</p>\r\n            )}\r\n            {result.channels?.face && (\r\n              <p>üì∑ Y√ºz: {result.channels.face.label} (%{Math.round(result.channels.face.score*100)})</p>\r\n            )}\r\n            {result.fused_emotion && (\r\n              <p>üß† F√ºzyon: {result.fused_emotion.label} (%{Math.round(result.fused_emotion.score*100)})</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"music-list\">\r\n            {result.recommended_music.map((uri) => {\r\n              const trackId = uri.split(':').pop();\r\n              const isPlaying = playing === trackId;\r\n\r\n              return (\r\n                <div key={trackId} className=\"music-card\">\r\n                  {/* Kart √∂nizlemesi */}\r\n                  <div className=\"card-preview\">\r\n                    <button\r\n                      className=\"play-btn\"\r\n                      onClick={() => setPlaying(isPlaying ? null : trackId)}\r\n                    >\r\n                      {isPlaying ? '‚è∏' : '‚ñ∂Ô∏è'}\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* G√∂m√ºl√º √ßalar; sadece aktif kartta g√∂ster */}\r\n                  {isPlaying && (\r\n                    <iframe\r\n                      className=\"spotify-embed\"\r\n                      title={trackId}\r\n                      src={`https://open.spotify.com/embed/track/${trackId}?autoplay=1`}\r\n                      allow=\"autoplay; encrypted-media\"\r\n                    />\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}